#pragma once

#include "Globals.h"

extern void FindMagics();

constexpr U64 NotFileA = 0xFEFEFEFEFEFEFEFEULL;
constexpr U64 NotFileAB = 0xFCFCFCFCFCFCFCFCULL;
constexpr U64 NotFileGH = 0x3F3F3F3F3F3F3F3FULL;
constexpr U64 NotFileH = 0x7F7F7F7F7F7F7F7FULL;

constexpr int RelevantBitsR[64] = {
    12, 11, 11, 11, 11, 11, 11, 12,
    11, 10, 10, 10, 10, 10, 10, 11,
    11, 10, 10, 10, 10, 10, 10, 11,
    11, 10, 10, 10, 10, 10, 10, 11,
    11, 10, 10, 10, 10, 10, 10, 11,
    11, 10, 10, 10, 10, 10, 10, 11,
    11, 10, 10, 10, 10, 10, 10, 11,
    12, 11, 11, 11, 11, 11, 11, 12
};

constexpr int RelevantBitsB[64] = {
    6, 5, 5, 5, 5, 5, 5, 6,
    5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 7, 7, 7, 7, 5, 5,
    5, 5, 7, 9, 9, 7, 5, 5,
    5, 5, 7, 9, 9, 7, 5, 5,
    5, 5, 7, 7, 7, 7, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5,
    6, 5, 5, 5, 5, 5, 5, 6
};

constexpr U64 MagicsR[64] = {
    0x404800000000000ULL, 0x140c01000000008ULL, 0x7208000000000000ULL, 0x2010000200000100ULL,
    0x2049010000000000ULL, 0x1104800100000000ULL, 0x81000000000000ULL, 0x842401100080000ULL,
    0x2001041a0000000ULL, 0x711240021000008ULL, 0xa008c0020000000ULL, 0x48500400800000ULL,
    0x2108080000000ULL, 0x21d004c000000000ULL, 0x200800100000000ULL, 0x8a11000100000000ULL,
    0x1010020000000ULL, 0x50090000000000ULL, 0x4042080800000000ULL, 0x108080000000ULL,
    0x2840204000000000ULL, 0x3800008200000000ULL, 0x200061800000000ULL, 0x42000c0000220000ULL,
    0x404000280000000ULL, 0x2008040e06000000ULL, 0x401800400000000ULL, 0x100000038400000ULL,
    0x8420088006200000ULL, 0xe40081840000000ULL, 0x4480002808100000ULL, 0xd20000400040000ULL,
    0xe201000002000000ULL, 0xc8000c008800000ULL, 0xa00080900c000000ULL, 0x200022002000000ULL,
    0x108000000800000ULL, 0x40008180800000ULL, 0x418000004000000ULL, 0x402820042000000ULL,
    0x1021a1281000000ULL, 0x8000a00a43000000ULL, 0x1441600400000ULL, 0x504027001000000ULL,
    0x210100401c00000ULL, 0x40048460100000ULL, 0x8820240000080000ULL, 0x40000a0804480000ULL,
    0x12800b700000000ULL, 0x2e4040304000000ULL, 0x481400012a000000ULL, 0x1140200459800000ULL,
    0xc0ca04002000000ULL, 0x8004260401400000ULL, 0x402c811040000ULL, 0xc052a28420880000ULL,
    0x1240004d000000ULL, 0x180008a411000000ULL, 0x200c0241000000ULL, 0x8052484500000000ULL,
    0xd02001058900000ULL, 0x4000d10005200000ULL, 0x1400150200280000ULL, 0x80a012840000ULL,
};

constexpr U64 MagicsB[64] = {
    0x9085a84000060ULL, 0x200458880408000ULL, 0x106000a0008000ULL, 0x5204000000008ULL,
    0x23200080208000ULL, 0x804a80120100080ULL, 0x120b000004c00000ULL, 0x808011800ULL,
    0x10148008880000ULL, 0x4041440cc8000002ULL, 0x2111010a0080ULL, 0x2004308180000000ULL,
    0x8c08880c14000000ULL, 0xc1004130010000ULL, 0xa08c14620001800ULL, 0x661084016802000ULL,
    0x220100061011108ULL, 0x20400105005240ULL, 0x802810809000000ULL, 0x2000041100400940ULL,
    0x1084002840400400ULL, 0x1110200000000ULL, 0x410150110482520ULL, 0x52488082280100ULL,
    0xa20281800030400ULL, 0x4412000000218129ULL, 0x21440008100000eULL, 0x2808100b61000000ULL,
    0x2202180011000000ULL, 0x4608202000000ULL, 0x6f080003101082ULL, 0x4000530000100011ULL,
    0x100108580200480ULL, 0x3000290100204000ULL, 0x440125800080000ULL, 0x3089118204340000ULL,
    0x88028008800000ULL, 0x904000220800020ULL, 0x54040090001010ULL, 0x1842482080408034ULL,
    0x420120280000c0ULL, 0x20610410000040ULL, 0x2a000005c1840000ULL, 0xe10006000280000ULL,
    0x30008011408000ULL, 0x6120b510000000ULL, 0x20c000882000020ULL, 0x14008020404008ULL,
    0x220012996002000ULL, 0x80008000f80010ULL, 0x10000ec000020ULL, 0x100830010110880cULL,
    0xa3440000111080ULL, 0x220048982000200ULL, 0x6001028043040400ULL, 0x2080840c40c00000ULL,
    0x250080d0000800ULL, 0x441044000ba00000ULL, 0x482842c0086040ULL, 0x4080800000100a00ULL,
    0x6001c161842000ULL, 0x18480142102ULL, 0x8408011101080100ULL, 0x21010092000241ULL,
};